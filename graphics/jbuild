(jbuild_version 1)

(library
 ((name        mesh_graphics)
  (public_name mesh-graphics)
  (synopsis  "Triangular mesh representation using the graphics module")
  (modules   (Mesh_graphics
              Mesh_graphicsF Mesh_graphicsC Mesh_common Mesh_utils))
  (flags     (:standard -safe-string))
  (libraries (mesh graphics))))

(rule
 ((targets (mesh_graphicsF.ml mesh_graphicsC.ml))
  (deps    (../config/make_FC_code.exe
            mesh_graphicsFC.ml  ../src/mesh_level_curvesFC.ml))
  (action  (run ../config/make_FC_code.exe))))

(rule
 ((targets (mesh_common.ml))
  (deps    (../src/mesh_common.ml))
  (action  (copy# ${^} mesh_common.ml))))

(rule
 ((targets (mesh_utils.ml))
  (deps    (../src/mesh_utils.ml))
  (action  (copy# ${^} mesh_utils.ml))))
