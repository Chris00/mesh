#                                                               -*-conf-*-
OASISFormat: 0.2
Name:        mesh
Version:     0.7.2
Synopsis:    OCaml interface to various mesh generators, in particular triangle.
Authors:     Christophe Troestler
License:     LGPL-2.0 with OCaml linking exception
Plugins:     StdFiles (0.2), META (0.2)
Homepage:    http://forge.ocamlcore.org/projects/mesh/

Flag debian 
  Description: enable if you build on Debian system with libtriangle >=
    0.0.0
  Default: false

Library mesh
  Path:         src/
  BuildTools:   ocamlbuild
  Modules:      Mesh, Easymesh
  BuildDepends: bigarray

Library mesh_display
  Path:          src/
  BuildTools:    ocamlbuild
  Modules:       Mesh_display
  BuildDepends:  mesh,graphics
  FindlibName:   display
  FindlibParent: mesh
  XMETADescription: Display of meshes using OCaml Graphics module.

Library mesh_triangle
  Path:       src/
  BuildTools: ocamlbuild
  Modules:    Mesh_triangle
  CSources:   triangle_stubs.c
  if flag(debian)
    CCOpt:      -DTRILIBRARY -DEXTERNAL_TEST -DDEBIAN -ltriangle
  else
    CCOpt:      -DTRILIBRARY -DEXTERNAL_TEST
  BuildDepends: mesh
  FindlibName:   triangle
  FindlibParent: mesh
  XMETADescription: Binding to the triangle mesh generator.

Document API
  Title:           API reference for Mesh
  Type:            OCamlbuild (0.2)
  InstallDir:      $docdir/api
  BuildTools:      ocamldoc, ocamlbuild
  XOCamlbuildPath: .
  XOCamlbuildLibraries: mesh, mesh.triangle, mesh.display

# Tests:
Executable square_easymesh
  Path:         tests/
  MainIs:       square_easymesh.ml
  BuildTools:   ocamlbuild
  BuildDepends: mesh.display,lacaml,graphics
  CompiledObject: best
  Install:      false  

Executable square_triangle
  Path:         tests/
  MainIs:       square_triangle.ml
  BuildTools:   ocamlbuild
  BuildDepends: mesh.triangle,lacaml,graphics
  CompiledObject: best
  Install:      false  

Executable level_display
  Path:         tests/
  MainIs:       level_display.ml
  BuildTools:   ocamlbuild
  BuildDepends: mesh.triangle,graphics
  CompiledObject: best
  Install:      false  

Executable refine
  Path:         tests
  MainIs:       refine.ml
  BuildTools:   ocamlbuild
  BuildDepends: mesh.triangle,graphics
  CompiledObject: best
  Install:      false  

SourceRepository trunk
  Type:       bzr
  Location:   https://forge.ocamlcore.org/anonscm/bzr/mesh/trunk
  Browser:    http://forge.ocamlcore.org/scm/browser.php?group_id=232
